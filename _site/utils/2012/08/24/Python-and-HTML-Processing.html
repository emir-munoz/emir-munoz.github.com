<!DOCTYPE html>
<html>
  <head>
    
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="shortcut icon" href="/static/img/favicon.ico" />
        <title>Python and HTML Processing - Emir Muñoz</title>
        <meta name="author" content="Emir Muñoz" />
        <meta name="description" content="Python and HTML Processing" />
        <meta name="keywords" content="Python and HTML Processing, Emir Muñoz, utils" />

        <meta content="0" property="fb:app_id">
        <meta content="Emir Muñoz" property="og:site_name">
        
          <meta content="Python and HTML Processing" property="og:title">
        
        
          <meta content="article" property="og:type">
        
        
          <meta content="My Professional Webpage" property="og:description">
        
        
          <meta content="http://emunoz.org/utils/2012/08/24/Python-and-HTML-Processing.html" property="og:url">
        
        
          <meta content="2012-08-24T00:00:00+01:00" property="article:published_time">
          <meta content="http://emunoz.org/about/" property="article:author">
        
        
          <meta content="http://emunoz.org/static/img/logo-high-resolution.png" property="og:image">
        
        
          
          <meta content="utils" property="article:section">
          
        
        
          
          <meta content="utils" property="article:tag">
          
          <meta content="python" property="article:tag">
          
        
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@emir_munoz">
        <meta name="twitter:creator" content="@emir_munoz">
        
          <meta name="twitter:title" content="Python and HTML Processing">
        
        
          <meta name="twitter:url" content="http://emunoz.org/utils/2012/08/24/Python-and-HTML-Processing.html">
        
        
          <meta name="twitter:description" content="My Professional Webpage">
        
        

      <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">
      
        <!-- Custom Fonts -->
        <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css">

        <!-- FontAwesome icons -->
        <link rel="stylesheet" href="https://use.fontawesome.com/f3efe22031.css">

        <!-- Core BootStrap CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <!-- Material Design CSS -->
        <link rel="stylesheet" href="/static/css/bootstrap-material-design.min.css">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/static/css/syntax.css">

        <!-- Custom CSS -->        
        <link rel="stylesheet" href="/static/css/thickbox.css">
        <link rel="stylesheet" href="/static/css/main.css">
        <link rel="stylesheet" href="/static/css/projects.css">

        <script type="text/javascript">
          //loadingImage is relative to project dir
          var tb_pathToImage = "/static/img/loadingAnimation.gif";
        </script>

  </head>

  <body class="home overflow-hidden">
    <div class="header-panel shadow-z-2">
      <div class="container">
        <div class="row">
          <div class="col-md-3 col-sm-4 col-xs-12">
            <div class="row-picture">
              <img id="about" class="logo-img" src="/static/img/avatar.png" height="75px" width="75px">
            </div>
            <div class="row-details">
              <h4 class="list-group-item-heading">Emir Muñoz</h4>
              <p class="list-group-item-text">Computer Science Researcher</p>
              <div class="social-icons">
	
        <a class="icon" target="_blank" href="http://github.com/emir-munoz/"><i class="fa fa-github"></i></a>
    
        <a class="icon" target="_blank" href="http://orcid.org/0000-0002-0089-8135"><i class="fa fa-id-badge"></i></a>
    
        <a class="icon" target="_blank" href="http://twitter.com/emir_munoz"><i class="fa fa-twitter"></i></a>
    
        <a class="icon" target="_blank" href="http://www.linkedin.com/in/emunozj/en"><i class="fa fa-linkedin"></i></a>
    
        <a class="icon" target="_blank" href="http://www.slideshare.net/emispy"><i class="fa fa-slideshare"></i></a>
    
</div>

            </div>
            <div class="navbar-header pull-right">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <i class="fa fa-2x fa-bars"></i>
              </button>
            </div>
          </div>
          <div class="col-md-9 col-sm-8 col-xs-12">
            <h2 class="blog-title-pro">Python and HTML Processing</h2>
            <p class="info">
              
                <span class="time">24 Aug 2012</span>
              
              
                <span class="categories">
                  &raquo; 
                  
                    <a href="/category/utils">utils</a>
                    
                  
                </span>
              
            </p>
          </div>
        </div>
      </div>
    </div>

    <div class="container main outer">
      <div class="row">
        <div class="col-md-3 col-xs-12">
              <nav class="menu">
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    <ul class="list-separator nav navbar-nav post">

	
	
	
	
	
	
    
	
	<li class="col-lg-12 col-md-12 col-sm-4 col-xs-12  Python-and-HTML-Processing.html"><a href="/" target="_self"><i class="fa fa-home"></i> Home</a></li>

	
	
	
	
	
	
    
	
	<li class="col-lg-12 col-md-12 col-sm-4 col-xs-12  Python-and-HTML-Processing.html"><a href="/publications" target="_self"><i class="fa fa-book"></i> Publications</a></li>

	
	
	
	
	
	
    
	
	<li class="col-lg-12 col-md-12 col-sm-4 col-xs-12  Python-and-HTML-Processing.html"><a href="/projects" target="_self"><i class="fa fa-desktop"></i> Projects</a></li>

	
	
	
	
	
	
    
	
	<li class="col-lg-12 col-md-12 col-sm-4 col-xs-12  Python-and-HTML-Processing.html"><a href="/talks" target="_self"><i class="fa fa-users"></i> Talks</a></li>

	
	
	
	
	
	
    
	
	<li class="col-lg-12 col-md-12 col-sm-4 col-xs-12  Python-and-HTML-Processing.html"><a href="/teaching" target="_self"><i class="fa fa-pencil"></i> Teaching</a></li>

	
	
	
	
	
	
    
	
	<li class="col-lg-12 col-md-12 col-sm-4 col-xs-12 current-menu-item Python-and-HTML-Processing.html"><a href="/blog" target="_self"><i class="fa fa-comments"></i> Blog</a></li>

	
	
	
	
	
	
    
	
	<li class="col-lg-12 col-md-12 col-sm-4 col-xs-12  Python-and-HTML-Processing.html"><a href="/resume" target="_self"><i class="fa fa-graduation-cap"></i> Resume</a></li>

	
	
	
	
	
	
    
	
	<li class="col-lg-12 col-md-12 col-sm-4 col-xs-12  Python-and-HTML-Processing.html"><a href="/feed.xml" target="_blank"><i class="fa fa-feed"></i> XML Feed</a></li>

</ul>

    </div>
    </nav>

        </div>
        <div class="col-md-9 col-xs-12 text-justify full">
          <div class="post-content well">
<article class="content">
    <div class="post"><p><em>This post was first published on my Wordpress page <a href="http://depinfi.wordpress.com/2012/08/24/python-and-html-processing/">link</a></em></p>

<p>Trying to harvest some links from the Coursea Lectures, in a fast and efficient way saving me valuable time, 
I decided to use Python with <a href="http://www.crummy.com/software/BeautifulSoup/">Beautiful Soup</a>.</p>

<blockquote>
  <p>Beautiful Soup is a Python library designed for quick turnaround projects like screen-scraping. 
It parses anything you give it, and does the tree traversal stuff for you. You can tell it 
“Find all the links”, or “Find all the links of class externalLink”, or “Find all the links whose 
urls match “foo.com”, or “Find the table heading that’s got bold text, then give me that text.”</p>
</blockquote>

<p>First, you need to download the library from this <a href="http://www.crummy.com/software/BeautifulSoup/bs4/download/">link</a> and untar the bs4 folder in your workspace.
The library is really simple and intuitive to use, since represent the HTML document as a nested data structure.</p>

<p>Too much chatter, now I’m going to show you the python code :)</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></td><td class="code"><pre><span class="c">#!/usr/bin/env python</span>
<span class="kn">import</span> <span class="nn">urllib</span><span class="o">,</span> <span class="nn">sgmllib</span>
 
<span class="c"># Get a file-like object for the Coursea Web site course page.</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s">"https://class.coursera.org/gametheory/lecture/preview"</span><span class="p">)</span>
<span class="c"># Read from the object, storing the page's contents in 's'.</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c"># Here is the import for the library above described.</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="c"># BeautifulSoup object, which represents the document as a nested data structure</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
 
<span class="c"># Find all the link with rel 'lecture-link'</span>
<span class="k">for</span> <span class="n">videos</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'a'</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="s">"lecture-link"</span><span class="p">):</span>
   <span class="n">link</span> <span class="o">=</span> <span class="n">videos</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'href'</span><span class="p">)</span>

   <span class="c"># Get the page apointed by the previous link in the same way</span>
   <span class="n">f1</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">link</span><span class="p">)</span>
   <span class="n">s1</span> <span class="o">=</span> <span class="n">f1</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
   <span class="n">soup1</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
 
   <span class="c"># Find all the source tags in the document and filter for 'video/mp4'</span>
   <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">soup1</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'source'</span><span class="p">):</span>
      <span class="k">if</span> <span class="n">link</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'type'</span><span class="p">)</span> <span class="o">==</span> <span class="s">"video/mp4"</span><span class="p">:</span>
      <span class="c"># You can concate 'wget' to build immediately an script</span>
          <span class="k">print</span> <span class="s">'wget '</span><span class="o">+</span><span class="n">link</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'src'</span><span class="p">)</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>A full documentation can be found <a href="http://www.crummy.com/software/BeautifulSoup/bs4/doc/">here</a>.</p>

<p>Be sure you have the <code class="highlighter-rouge">bs4</code> folder and a file with the previous code in the same workspace. 
Then you can execute your python file as usual and get the links to download the video lectures that you want.</p>

<p>Cheers!</p>
</div>
    <hr />
    <div class="share-page">
    Share this on &rarr;
 <a href="https://twitter.com/share" class="twitter-share-button" data-via="emir_munoz">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Google + -->
<div class="g-plus" data-action="share" data-annotation="bubble"></div>
<script src="https://apis.google.com/js/platform.js" async defer></script>

<!-- Facebook -->
<div class="fb-share-button" data-href="http://emunoz.org/utils/2012/08/24/Python-and-HTML-Processing.html" data-layout="button_count" style="position: relative; top: -8px; left: 3px;"></div>
</div>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.6&appId=0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
</article>
<hr />


    
    
        
            
                
                <div class="panel-body">
                <h4>Related Posts</h4>
                <ul>
                
                <li class="relatedPost">
                    <a href="http://emunoz.org/utils/2014/10/28/Using-Markdown-for-your-presentations.html">Using Markdown for your presentations</a>
                    
                        <small>(Categories: <a href="/category/utils">utils</a>)</small>
                    
                </li>
                
                
            
        
    

    
    
        
            
        
    

    
    
        
            
                
                <li class="relatedPost">
                    <a href="http://emunoz.org/utils/2012/11/26/Using-Algorithm2e-in-ACM-template.html">Using Algorithm2e in ACM template</a>
                    
                        <small>(Categories: <a href="/category/utils">utils</a>)</small>
                    
                </li>
                
                
            
        
    

    
    
        
            
                
                <li class="relatedPost">
                    <a href="http://emunoz.org/utils/2012/11/26/Reducing-space-Theorems-Proofs-Lemmas-etc-in-LaTex.html">Reducing space Theorems, Proofs, Lemmas, etc in LaTex</a>
                    
                        <small>(Categories: <a href="/category/utils">utils</a>)</small>
                    
                </li>
                
                
            
        
    

    
    
        
            
                
                <li class="relatedPost">
                    <a href="http://emunoz.org/utils/2012/09/19/Sorting-HashMap-based-on-its-values.html">Sorting HashMap based on its values</a>
                    
                        <small>(Categories: <a href="/category/utils">utils</a>)</small>
                    
                </li>
                
                
            
        
    

    
    
        
            
        
    

    
    
        
            
                
                <li class="relatedPost">
                    <a href="http://emunoz.org/utils/2012/08/29/LaTex-Links.html">LaTex Links</a>
                    
                        <small>(Categories: <a href="/category/utils">utils</a>)</small>
                    
                </li>
                
                
            
        
    

    
    
        
            
        
    

    
    
        
            
                
                <li class="relatedPost">
                    <a href="http://emunoz.org/utils/2012/08/24/Path-of-Ubuntu-Applications.html">Path of Ubuntu Applications</a>
                    
                        <small>(Categories: <a href="/category/utils">utils</a>)</small>
                    
                </li>
                
                
            
        
    


    </ul>
    </div>


<div class="PageNavigation">
  
    <a class="prev pull-left" href="/utils/2012/08/24/Path-of-Ubuntu-Applications.html">&laquo; Path of Ubuntu Applications</a>
  
  
    <a class="next pull-right" href="/utils/2012/08/29/LaTex-Links.html">LaTex Links &raquo;</a>
  
</div>


<div class="disqus-comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* <![CDATA[ */

        var disqus_shortname = "emirmunoz";
        var disqus_identifier = "http://emunoz.org_Python and HTML Processing";
        var disqus_title = "Python and HTML Processing";

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    /* ]]> */
    </script>
</div>
</div>
          <div class="row">
            <div class="col-md-12 col-xs-12 footer">
              <footer>
  Copyright &copy; 2012-2017  <a href="http://emunoz.org">(emunoz.org)</a>. All rights reserved - Powered by Jekyll. <br>
  Last update: 03 June 2017
</footer>

            </div>
          </div>
        </div> <!-- end /.col-md-9 -->
      </div> <!-- end /.row -->
    </div>

    
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script src="/static/js/thickbox-compressed.js"></script>
<script src="/static/js/material.min.js"></script>
<script src="/static/js/main.js"></script>
<script src="/static/js/projects.js"></script>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48858636-1', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
